# Kubernetes (homework4)
___________
**Instalation**
~~~
#Kubernetes cluster
1. install kubectl (https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/)
2. deploy cluster (https://cloud.google.com/kubernetes-engine)

~~~
**Usage**
~~~
kubectl apply -f kubernetes_manifests/$NAME_KUBERNETES_CONFIG 
kubectl get pods
~~~

--------
**Самоценка**
1. Установлен kubectl, развернут кластер google cloud  - 5 баллов
2. Написан простой pod manifests для приложения online-inference-pod.yaml, приложение задейплоено в кластер, есть скиншоты  - 4 балла
* Прописаны requests/limits, закоммичен файл online-inference-pod-resources.yaml, описано зачем это нужно в описание PR - 2 балла
3. Модифицировано приложение так, чтобы оно стартовало не сразу(с задержкой секунд 30) и падало спустя 2,5 минуты работы. 
   Добавлены liveness и readiness пробы. 
   Если пробы не добавлять то, приложение при дейплое отображается как сразу доступное(running, ready), 
   хотя на деле это не так. Тоже после двух минут работы, когда приложение уже упало, но отображается как доступное. 
   Проба readiness (если приложение ее не проходит) сменяет статус running/ready, на просто running и повзоляет не пытаться получить что-то от приложения, когда оно еще не готово к работе. 
   Проба liveness - позволяет проверять живо ли еще приложение и если нет, то перезапускает его.
   Опубликовано приложение(из ДЗ 2) с тэгом v2 - 3 балла
4. Создан replicaset, сделано  3 реплики приложения. Закоммичен online-inference-replicaset.yaml
   Ответьте на вопрос, что будет, если сменить докер образа в манифесте и одновременно с этим 
   * уменьшить число реплик. Ничего не произойдет, новая версия не появится.
   * увеличить число реплик. Новые реплики появятся с новым образом -3 балла
5. Деплоймент приложения использует стратегию RollingUpdate, при которой переключение со старых версий на новые происходит постепено
   есть два конфиг файла с разными парамтерами maxSurge, maxUnavaliable. В первом - есть момент, когда доступны и старые и новые версии. Во втором - сразу новые. - 3 балла.
6. Самооценка - 1 балл
--------
Итого: 21 балл.



